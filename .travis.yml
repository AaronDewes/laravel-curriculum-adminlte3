language: php

os:
    - linux

php: 
    - 7.3
    
before_script:
    - cp .env.travis .env
    - composer self-update
    - composer install --no-interaction
    
script:
    - php artisan key:generate
    - php artisan migrate
    - php artisan passport:keys
    - vendor/bin/phpunit
 
services:
    - redis-server
    
cache:
    directories:
        - vendor